@startuml Class Diagram

skin rose
skinparam classAttributeIconSize 0
' skinparam linetype ortho
skinparam linetype polyline
hide circle
scale 3

' Product
class Product{
    - id: long
    - name: string
    - brand: string
    - url_key: string
    - description: string
    - price: double
    - discount_rate: double
    - thumbnail_url: string
    - images: Set<string>
    - review_count: int
    - rating_average: double
    - quantity_sold: int
    - highlight: Set<HighlightItem>
    - seller: Seller
    - category: Category
    - product_specifications: Set<ProductSpecification>
}


class ProductSpecification{
    - id: long
    - name: string
    - value: string
    - product: Product
}

class ProductOption{
    - id: long
    - name: string
    - value: string
    - product: Product
}


class Seller{
    - id: long
    - name: string
    - logo: string
    - slug: string
}

' Category
class Category{
    - id: long
    - name: string
    - url_key: string
    - thumbnail_url: string
    - parent_id: long
    - is_primary: boolean
    - products: Set<Product>
}

' Review
class Review{
    - id: long
    - rating: int
    - title: string
    - content: string
    - product: Product
    - user: ApplicationUser
}

' User
class User{
    - id: long
    - name: string
    - email: string
    - phone: string
    - password: string
    - avatar: string
    - cart: Cart
    - addresses: Set<Address>
    - reviews: Set<Review>
    - orders: Set<Order>
    - role: Set<Role>
}


class Role{
    - id: long
    - name: string
    - users: Set<User>
}

class UserRole{
    - role_id: long
    - user_id: long
}


class Address{
    - id: long
    - name: string
    - phone: string
    - company: string
    - province: string
    - district: string
    - ward: string
    - address: string
    - address_type: string
    - is_default: boolean
    - user: ApplicationUser
}


' Cart
class Cart{
    - id: long
    - cart_details: List<CartDetail>
    - userId: long
    - productId: long
    - quantity: int
}

' Order
class Order{
    - id: long
    - total: double
    - status: string
    - payment_method: string
    - payment_status: string
    - shipping_fee: double
    - note: string
    - created_at: datetime
    - address: Address
    - user: ApplicationUser
    - products: List<Product>
}

' Notification
class Notification{
    - id: long
    - title: string
    - content: string
    - created_at: datetime
}

class Voucher{
    - id: long
    - title: string
    - startDate: datetime
    - expireDate: datetime
}

Product "1" *-- "1..*" ProductSpecification
Product "1..* "--* "1" Seller
Product "1" *-- "1..*" Review
Product "1..*" --o "1" Order
Product "1" *-- "1..*" ProductOption
Product "1..*" --o "1" Category

User "1" *-- "1..*" Address
User "1" *-- "1..*" Review

Cart "1" --* "1..*" User

Order "1..*" --* "1" User
Order "1" -- "1..*" Address

UserRole "1..*" -- "1" User
UserRole "1..*" -- "1" Role

@enduml